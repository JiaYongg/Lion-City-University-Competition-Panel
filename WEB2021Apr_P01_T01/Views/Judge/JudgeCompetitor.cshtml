@model WEB2021Apr_P01_T01.Models.CompetitionSubmission
@{
    ViewData["Title"] = "Judge Competitors";
    List<CompetitionSubmission> csList = (List<CompetitionSubmission>)ViewData["Submit"];
}

@*@{
        var rank = (List<int?>)ViewData["rankingList"];
        var name = (List<string>)ViewData["competitorName"];
        var totalScore = (List<double>)ViewData["totalScore"];
        var votes = (List<int>)ViewData["votes"];
        var appeal = (List<string>)ViewData["appeal"];
        string viewAppeal = "";

        var arr = ViewData["criteriaScores"].ToString().Split(",");
        List<string> criteraList = new List<string>(arr);
        int index = 0;
    }*@
<body>
    <div class="container vh70">
        <div class="d-flex" style="align-items: center; justify-content: space-between; margin: 0 15px;">
            <div class="aoi-titles">
                <p>Judge Panel</p>
                <h2>View Competitiors - @ViewData["compName"]</h2>
            </div>
        </div>

        <div class="col-12">
            <table class="table table-bordered table-striped">
                <thead>
                    <tr>
                        <th scope="col">Ranking:</th>
                        <th scope="col">Competitor Name: </th>
                        <th scope="col">Total Marks:</th>
                        <th scope="col">Number of Votes:</th>
                        <th scope="col">View Appeal:</th>
                        <th scope="col">View Submission:</th>
                        <th scope="col">Action:</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in csList)
                    {
                    <tr>
                        <td>
                            <div class="judge-table-content">
                                @if (item.Ranking == null)
                                {
                                    <p>-</p>
                                }
                                else
                                {
                                    <p>@item.Ranking</p>
                                }
                            </div>
                        </td>
                        <td>
                            <div class="judge-table-content">
                                <p>@item.CompetitorName</p>
                            </div>
                        </td>
                        <td>
                            <div class="judge-table-content">
                                <p>@item.TotalMarks</p>
                            </div>
                        </td>
                        <td>
                            <div class="judge-table-content">
                                <p>@item.VoteCount</p>
                            </div>
                        </td>
                        <td>
                            <div class="judge-table-content">
                                @if (item.Appeal == null)
                                {
                                    <p>~Nil~</p>
                                }
                                else
                                {
                                    <p>@item.Appeal</p>
                                }
                            </div>
                        <td>
                            <div class="judge-table-content">
                                @if (item.FileUrl == null)
                                {
                                    <p>-</p>
                                }
                                else
                                {
                                    <p>@item.FileUrl</p>
                                }
                            </div>
                        </td>
                        </td>
                    </tr>

                    }
                </tbody>
            </table>
        </div>


    </div>
</body>


<script>
    $(document).on("click", ".editGrade", function () {
        var iteration = $(this).data('id');
        // As pointed out in comments,
        // it is unnecessary to have to manually call the modal.
        // $('#addBookDialog').modal('show');
    });
</script>
